<div class="container mt-4">
  <% if notice %>
    <div class="alert alert-success">
      <%= notice %>
    </div>
  <% end %>

  <h1 class="text-center text-primary mb-4">Encomendas</h1>

  <!-- Campo de busca -->
  <%= form_with url: encomendas_path, method: :get, local: true, class: "mb-4" do |form| %>
    <div class="input-group">
      <%= form.text_field :search, value: params[:search], class: "form-control", placeholder: "Buscar por cliente..." %>
      <button class="btn btn-outline-secondary" type="submit">Buscar</button>
    </div>
  <% end %>

  <div class="row">
    <% @encomendas.each do |encomenda| %>
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <%= render encomenda %>
            <div class="mt-3 d-flex justify-content-between">
              <%= link_to "Visualizar", encomenda, class: "btn btn-outline-primary btn-sm" %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <div class="text-end mt-3">
    <%= link_to "Nova Encomenda", new_encomenda_path, class: "btn btn-success" %>
  </div>

  <!-- Paginação -->
  <div class="mt-4">
    <%= paginate @encomendas %>
  </div>
</div>
